<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>AXI4Stream XUS VirtualTDL: Behavioral Architecture Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">AXI4Stream XUS VirtualTDL
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="class_sampler___t_d_l.html">Sampler_TDL</a></li><li class="navelem"><a class="el" href="class_sampler___t_d_l_1_1_behavioral.html">Behavioral</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#Signals">Signals</a> &#124;
<a href="#Processes">Processes</a>  </div>
  <div class="headertitle">
<div class="title">Behavioral Architecture Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>First the module searches for the positions where we could find the valid, by exploring the <em>SampledTaps</em> vector between the components <em>MIN_VALID_TAP_POS</em> and <em>MAX_VALID_TAP_POS</em> of the vector itself, by making steps of <em>STEP_VALID_TAP_POS</em>. This operation is made by the <em>Compute_ValidPositionSampledTapsTDL</em> function. The work of the <em>Compute_ValidSampledTapsTDL</em> function can be explained also by the following image:  
 <a href="class_sampler___t_d_l_1_1_behavioral.html#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="Processes"></a>
Processes</h2></td></tr>
 <tr class="memitem:abc62460c31d43cd20f36fecc1d4a340b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_sampler___t_d_l_1_1_behavioral.html#abc62460c31d43cd20f36fecc1d4a340b">SamplingTDL</a>&#160;</td><td class="memItemRight" valign="bottom"><b> ( <b><b><a class="el" href="class_sampler___t_d_l.html#a199d3fe4aaa6850d129b06faf6c246d9">reset</a></b> <span class="vhdlchar"> </span></b> , <b><b><a class="el" href="class_sampler___t_d_l.html#a6231b307b7958b6060563aa2a93d345a">clk</a></b> <span class="vhdlchar"> </span></b> , <b><b><a class="el" href="class_sampler___t_d_l_1_1_behavioral.html#ac56bd5983af7d46ca59b768d84d188ed">SampledTaps</a></b> <span class="vhdlchar"> </span></b> , <b><b><a class="el" href="class_sampler___t_d_l_1_1_behavioral.html#a449d73a1c110581b82d5a26f13216ebc">SampledTaps_pipe</a></b> <span class="vhdlchar"> </span></b> )</b></td></tr>
<tr class="memitem:abc4ab9818dfce218d1d95dbb93fad190"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_sampler___t_d_l_1_1_behavioral.html#abc4ab9818dfce218d1d95dbb93fad190">ValidTDL</a>&#160;</td><td class="memItemRight" valign="bottom"><b> ( <b><b><a class="el" href="class_sampler___t_d_l.html#a199d3fe4aaa6850d129b06faf6c246d9">reset</a></b> <span class="vhdlchar"> </span></b> , <b><b><a class="el" href="class_sampler___t_d_l.html#a6231b307b7958b6060563aa2a93d345a">clk</a></b> <span class="vhdlchar"> </span></b> , <b><b><a class="el" href="class_sampler___t_d_l_1_1_behavioral.html#a1a04010924a3bdc8708f1813ddeb0cad">Valid_SampledTaps</a></b> <span class="vhdlchar"> </span></b> , <b><b><a class="el" href="class_sampler___t_d_l_1_1_behavioral.html#a3884a719a8410e6afd81047a5989c7dd">Valid_SampledTaps_pipe</a></b> <span class="vhdlchar"> </span></b> , <b><b><a class="el" href="class_sampler___t_d_l_1_1_behavioral.html#af69db7bf9de7b7d89cfb030d88530ecf">RiseValid</a></b> <span class="vhdlchar"> </span></b> , <b><b><a class="el" href="class_sampler___t_d_l_1_1_behavioral.html#abaf35e1ea6d9372c3420a16e5f7dc313">FallValid</a></b> <span class="vhdlchar"> </span></b> )</b></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="Signals"></a>
Signals</h2></td></tr>
 <tr class="memitem:ac56bd5983af7d46ca59b768d84d188ed"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_sampler___t_d_l_1_1_behavioral.html#ac56bd5983af7d46ca59b768d84d188ed">SampledTaps</a> &#160;</td><td class="memItemRight" valign="bottom"><b><span class="keywordtype">STD_LOGIC_VECTOR</span><span class="vhdlchar"> </span><span class="vhdlchar">(</span><span class="vhdlchar"> </span><span class="vhdlchar"> </span><span class="vhdlchar"> </span><span class="vhdlchar"> </span><b><a class="el" href="class_sampler___t_d_l.html#a2ac9897da5b494d6b45e9debf671060f">BIT_SMP_TDL</a></b> <span class="vhdlchar">+</span><span class="vhdlchar"> </span><span class="vhdlchar"> </span><span class="vhdlchar"> </span><b><a class="el" href="class_sampler___t_d_l.html#ae6baabaaadca3096144cc6db701a5613">BIT_SMP_PRE_TDL</a></b> <span class="vhdlchar">-</span><span class="vhdlchar"> </span> <span class="vhdldigit">1</span> <span class="vhdlchar"> </span><span class="keywordflow">downto</span><span class="vhdlchar"> </span><span class="vhdlchar"> </span> <span class="vhdldigit">0</span> <span class="vhdlchar"> </span><span class="vhdlchar">)</span><span class="vhdlchar"> </span></b></td></tr>
<tr class="memdesc:ac56bd5983af7d46ca59b768d84d188ed"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sampled taps along the chain.  <a href="#ac56bd5983af7d46ca59b768d84d188ed"></a><br /></td></tr>
<tr class="memitem:a449d73a1c110581b82d5a26f13216ebc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_sampler___t_d_l_1_1_behavioral.html#a449d73a1c110581b82d5a26f13216ebc">SampledTaps_pipe</a> &#160;</td><td class="memItemRight" valign="bottom"><b><span class="keywordtype">STD_LOGIC_VECTOR</span><span class="vhdlchar"> </span><span class="vhdlchar">(</span><span class="vhdlchar"> </span><span class="vhdlchar"> </span><span class="vhdlchar"> </span><span class="vhdlchar"> </span><b><a class="el" href="class_sampler___t_d_l.html#a2ac9897da5b494d6b45e9debf671060f">BIT_SMP_TDL</a></b> <span class="vhdlchar">+</span><span class="vhdlchar"> </span><span class="vhdlchar"> </span><span class="vhdlchar"> </span><b><a class="el" href="class_sampler___t_d_l.html#ae6baabaaadca3096144cc6db701a5613">BIT_SMP_PRE_TDL</a></b> <span class="vhdlchar">-</span><span class="vhdlchar"> </span> <span class="vhdldigit">1</span> <span class="vhdlchar"> </span><span class="keywordflow">downto</span><span class="vhdlchar"> </span><span class="vhdlchar"> </span> <span class="vhdldigit">0</span> <span class="vhdlchar"> </span><span class="vhdlchar">)</span><span class="vhdlchar"> </span></b></td></tr>
<tr class="memdesc:a449d73a1c110581b82d5a26f13216ebc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Buffering stage of SampledTaps.  <a href="#a449d73a1c110581b82d5a26f13216ebc"></a><br /></td></tr>
<tr class="memitem:a38d21129e829ed03feeadbec73f0afa6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_sampler___t_d_l_1_1_behavioral.html#a38d21129e829ed03feeadbec73f0afa6">ValidPosition_SampledTaps</a> &#160;</td><td class="memItemRight" valign="bottom"><b><span class="keywordtype">STD_LOGIC_VECTOR</span><span class="vhdlchar"> </span><span class="vhdlchar">(</span><span class="vhdlchar"> </span><span class="vhdlchar">Compute_ValidPositionSampledTapsTDL</span><span class="vhdlchar"> </span><span class="vhdlchar">(</span><span class="vhdlchar"> </span><span class="vhdlchar"> </span><span class="vhdlchar"> </span><span class="vhdlchar"> </span><b><a class="el" href="class_sampler___t_d_l.html#a304e1ad74f990e652375a9a5560f4be9">MIN_VALID_TAP_POS</a></b> <span class="vhdlchar"> </span><span class="vhdlchar">,</span><span class="vhdlchar"> </span><span class="vhdlchar"> </span><span class="vhdlchar"> </span><span class="vhdlchar"> </span><b><a class="el" href="class_sampler___t_d_l.html#a210740d384506d9963d94fda43c110c7">STEP_VALID_TAP_POS</a></b> <span class="vhdlchar"> </span><span class="vhdlchar">,</span><span class="vhdlchar"> </span><span class="vhdlchar"> </span><span class="vhdlchar"> </span><span class="vhdlchar"> </span><b><a class="el" href="class_sampler___t_d_l.html#aaa9b9bd6ce1ec9b4e8b677bcda8cff0e">MAX_VALID_TAP_POS</a></b> <span class="vhdlchar"> </span><span class="vhdlchar">,</span><span class="vhdlchar"> </span><span class="vhdlchar"> </span><span class="vhdlchar"> </span><span class="vhdlchar"> </span><b><a class="el" href="class_sampler___t_d_l.html#ae6baabaaadca3096144cc6db701a5613">BIT_SMP_PRE_TDL</a></b> <span class="vhdlchar"> </span><span class="vhdlchar">,</span><span class="vhdlchar"> </span><span class="vhdlchar"> </span><span class="vhdlchar"> </span><span class="vhdlchar"> </span><b><a class="el" href="class_sampler___t_d_l_1_1_behavioral.html#ac56bd5983af7d46ca59b768d84d188ed">SampledTaps</a></b> <span class="vhdlchar"> </span><span class="vhdlchar">)</span><span class="vhdlchar"> </span><span class="vhdlchar">'</span><span class="vhdlchar"> </span><span class="keywordflow">RANGE</span><span class="vhdlchar"> </span><span class="vhdlchar"> </span><span class="vhdlchar">)</span><span class="vhdlchar"> </span></b></td></tr>
<tr class="memdesc:a38d21129e829ed03feeadbec73f0afa6"><td class="mdescLeft">&#160;</td><td class="mdescRight">This vector contains the positions where the valid can be found.  <a href="#a38d21129e829ed03feeadbec73f0afa6"></a><br /></td></tr>
<tr class="memitem:af69db7bf9de7b7d89cfb030d88530ecf"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_sampler___t_d_l_1_1_behavioral.html#af69db7bf9de7b7d89cfb030d88530ecf">RiseValid</a> &#160;</td><td class="memItemRight" valign="bottom"><b><span class="keywordtype">STD_LOGIC</span><span class="vhdlchar"> </span><span class="vhdlchar"> </span><span class="vhdlchar">:</span><span class="vhdlchar">=</span><span class="vhdlchar"> </span><span class="vhdlchar"> </span><span class="vhdlchar">'</span><span class="vhdlchar"> </span> <span class="vhdldigit">0</span> <span class="vhdlchar"> </span><span class="vhdlchar">'</span><span class="vhdlchar"> </span></b></td></tr>
<tr class="memdesc:af69db7bf9de7b7d89cfb030d88530ecf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Signal containing the value of the bit from which we want to extract the valid.  <a href="#af69db7bf9de7b7d89cfb030d88530ecf"></a><br /></td></tr>
<tr class="memitem:abaf35e1ea6d9372c3420a16e5f7dc313"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_sampler___t_d_l_1_1_behavioral.html#abaf35e1ea6d9372c3420a16e5f7dc313">FallValid</a> &#160;</td><td class="memItemRight" valign="bottom"><b><span class="keywordtype">STD_LOGIC</span><span class="vhdlchar"> </span><span class="vhdlchar"> </span><span class="vhdlchar">:</span><span class="vhdlchar">=</span><span class="vhdlchar"> </span><span class="vhdlchar"> </span><span class="vhdlchar">'</span><span class="vhdlchar"> </span> <span class="vhdldigit">0</span> <span class="vhdlchar"> </span><span class="vhdlchar">'</span><span class="vhdlchar"> </span></b></td></tr>
<tr class="memdesc:abaf35e1ea6d9372c3420a16e5f7dc313"><td class="mdescLeft">&#160;</td><td class="mdescRight">Signal used to make the overall valid lasting just 1 clock cycle.  <a href="#abaf35e1ea6d9372c3420a16e5f7dc313"></a><br /></td></tr>
<tr class="memitem:a1a04010924a3bdc8708f1813ddeb0cad"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_sampler___t_d_l_1_1_behavioral.html#a1a04010924a3bdc8708f1813ddeb0cad">Valid_SampledTaps</a> &#160;</td><td class="memItemRight" valign="bottom"><b><span class="keywordtype">STD_LOGIC</span><span class="vhdlchar"> </span><span class="vhdlchar"> </span><span class="vhdlchar">:</span><span class="vhdlchar">=</span><span class="vhdlchar"> </span><span class="vhdlchar"> </span><span class="vhdlchar">'</span><span class="vhdlchar"> </span> <span class="vhdldigit">0</span> <span class="vhdlchar"> </span><span class="vhdlchar">'</span><span class="vhdlchar"> </span></b></td></tr>
<tr class="memdesc:a1a04010924a3bdc8708f1813ddeb0cad"><td class="mdescLeft">&#160;</td><td class="mdescRight">Overall valid.  <a href="#a1a04010924a3bdc8708f1813ddeb0cad"></a><br /></td></tr>
<tr class="memitem:a3884a719a8410e6afd81047a5989c7dd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_sampler___t_d_l_1_1_behavioral.html#a3884a719a8410e6afd81047a5989c7dd">Valid_SampledTaps_pipe</a> &#160;</td><td class="memItemRight" valign="bottom"><b><span class="keywordtype">STD_LOGIC</span><span class="vhdlchar"> </span><span class="vhdlchar"> </span><span class="vhdlchar">:</span><span class="vhdlchar">=</span><span class="vhdlchar"> </span><span class="vhdlchar"> </span><span class="vhdlchar">'</span><span class="vhdlchar"> </span> <span class="vhdldigit">0</span> <span class="vhdlchar"> </span><span class="vhdlchar">'</span><span class="vhdlchar"> </span></b></td></tr>
<tr class="memdesc:a3884a719a8410e6afd81047a5989c7dd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Buffering stage of the Valid.  <a href="#a3884a719a8410e6afd81047a5989c7dd"></a><br /></td></tr>
<tr class="memitem:a27d9aaad077d791c176f92282ad7408b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_sampler___t_d_l_1_1_behavioral.html#a27d9aaad077d791c176f92282ad7408b">ValidPositionTap_int</a> &#160;</td><td class="memItemRight" valign="bottom"><b><span class="keywordtype">INTEGER</span><span class="vhdlchar"> </span><span class="vhdlchar"> </span><span class="vhdlchar"> </span><span class="keywordflow">range</span><span class="vhdlchar"> </span><span class="vhdlchar"> </span> <span class="vhdldigit">0</span> <span class="vhdlchar"> </span><span class="keywordflow">TO</span><span class="vhdlchar"> </span><span class="vhdlchar"> </span><span class="vhdlchar"> </span><span class="vhdlchar"> </span><b><a class="el" href="class_sampler___t_d_l_1_1_behavioral.html#a38d21129e829ed03feeadbec73f0afa6">ValidPosition_SampledTaps</a></b> <span class="vhdlchar"> </span><span class="vhdlchar">'</span><span class="vhdlchar"> </span><span class="vhdlkeyword">HIGH</span><span class="vhdlchar"> </span><span class="vhdlchar">:</span><span class="vhdlchar">=</span><span class="vhdlchar"> </span><span class="vhdlchar"> </span><span class="vhdlchar"> </span><span class="vhdlchar"> </span><b><a class="el" href="class_sampler___t_d_l.html#aeed55dd30918007dc135630b055bbd3a">VALID_POSITION_TAP_INIT</a></b> <span class="vhdlchar"> </span></b></td></tr>
<tr class="memdesc:a27d9aaad077d791c176f92282ad7408b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialization of the position from which we want to choose the valid.  <a href="#a27d9aaad077d791c176f92282ad7408b"></a><br /></td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>First the module searches for the positions where we could find the valid, by exploring the <em>SampledTaps</em> vector between the components <em>MIN_VALID_TAP_POS</em> and <em>MAX_VALID_TAP_POS</em> of the vector itself, by making steps of <em>STEP_VALID_TAP_POS</em>. This operation is made by the <em>Compute_ValidPositionSampledTapsTDL</em> function. The work of the <em>Compute_ValidSampledTapsTDL</em> function can be explained also by the following image: </p>
<div class="image">
<object type="image/svg+xml" data="VALID.svg" style="pointer-events: none;"></object>
<div class="caption">
[Search of the valid]</div></div>
<p> The figure shows the case of <em>MIN_VALID_TAP_POS = 1</em>, <em>MAX_VALID_TAP_POS = 5</em> and <em>STEP_VALID_TAP_POS = 2</em>. Then the module makes 2 processes:</p><ul>
<li><b>SamplingTDL</b>: By means of the <em>Sample_AsyncTapsTDL</em> function, this process manages the positioning of the sampling flip flops, by following the <em>OFFSET_TAP_TDL</em> and <em>BIT_SMP_TDL</em> constraints. In the following figure we see how the sampling is carried out by the function <em>Sample_AsyncTapsTDL</em>: <div class="image">
<object type="image/svg+xml" data="BIT_SMP.svg" style="pointer-events: none;"></object>
<div class="caption">
[Sampling]</div></div>
 The previous figure explains the case of <em>NUM_TAP_TDL = 10</em> and <em>BIT_SMP_TDL = 5</em> with <em>OFFSET_TAP_TDL = 0</em> (in the image on top) and <em>OFFSET_TAP_TDL = 1</em> (in the image on the bottom). So basically we sample 1 tap out of 2. Then in the next figure we can see an example on how the <em>Sample_AsyncTapsTDL</em> function manages the <em>OFFSET_TAP_TDL</em>: <div class="image">
<img src="OFFSET.png" alt=""/>
<div class="caption">
[Example of Offset]</div></div>
 In the figure we see on top the case of <em>NUM_TAP_TDL = 4</em>, <em>BIT_SMP_TDL = 2</em> , <em>OFFSET_TAP_TDL = 1</em>. So according to the function <em>Sample_AsyncTapsTDL</em>, we have to put 2 FFs, the first has to be put at the second tap and the second has to be put <em>NUM_TAP_TDL</em> / <em>BIT_SMP_TDL</em> taps later, so at the fourth tap. Instead in the figure on the bottom we see a particular case, that is when the chosen <em>OFFSET_TAP_TDL</em> (<em>OFFSET_TAP_TDL = 2</em> for example) is equal to (or larger than) the step given by <em>NUM_TAP_TDL</em> / <em>BIT_SMP_TDL</em>. In this case the second FF would be put at the fifth tap, but we have just 4 taps available since <em>NUM_TAP_TDL = 4</em>, and so the second FF is folded back and put after the first tap. Then if <em>BUFFERING_STAGE = TRUE</em> the sampled data <em>SampledTaps</em> is stored in <em>SampledTaps_pipe</em> at each clock pulse, but the output sampled data <em>SampledTaps_TDL</em> is updated only on the following clock pulse (since <em>SampledTaps_pipe</em> will be available only one clock cycle after), and doing so the data are aligned to the next clock pulse. Otherwise if <em>BUFFERING_STAGE = FALSE</em>, the <em>SampledTaps_TDL</em> is immediately updated and put equal to <em>SampledTaps</em>.</li>
</ul>
<p>We can see some waveforms of the sampling process in the following pictures: </p><div class="image">
<object type="image/svg+xml" data="CO_O_Taps.svg" style="pointer-events: none;"></object>
<div class="caption">
[AsyncTaps waveforms]</div></div>
<p> In this figure we can see the signals coming out from the AsyncTaps, which are the CO Taps and the O Taps of the CARRY8. Basically a thermometric code is generated. "tp" is the delay of each buffer.</p>
<p>Then the second picture: </p><div class="image">
<object type="image/svg+xml" data="CO_O_Taps_complete.svg" style="pointer-events: none;"></object>
<div class="caption">
[Asynch + Synch waveforms]</div></div>
<p> In this figure we see that the <em>SampledTaps</em> are the <em>AsyncTaps</em> sampled on the rising edge of the clock working in CO. Then we can see also the valid that stays high for just one clock period. (How the valid is generated is explained in the following) Furthermore we can see that if <em>BUFFERING_STAGE = TRUE</em> both the <em>Valid_SampledTaps</em> and the <em>SampledTaps</em> are aligned to the following clock cycle.</p><ul>
<li><b>ValidTDL</b>: This process searches for the <em>Valid_SampledTaps</em>. In this module, the valid is searched in this way: we have a valid when the data arrives, and we understand that the data is arrived if we sample a '1' after a '0', and we want that the valid lasts just 1 clock pulse. With the function <em>Compute_ValidSampledTapsTDL</em> we effectively generate the value of the Valid. Then if <em>BUFFERING_STAGE = TRUE</em> the <em>Valid_SampledTaps</em> is stored in <em>Valid_SampledTaps_pipe</em> at each clock pulse, but the output <em>Valid_SampledTaps_TDL</em> is updated only on the following clock pulse (since <em>Valid_SampledTaps_pipe</em> will be available only one clock cycle after), and doing so the data are aligned to the next clock pulse. Otherwise if <em>BUFFERING_STAGE = FALSE</em>, the <em>Valid_SampledTaps_TDL</em> is immediately updated and put equal to <em>Valid_SampledTaps</em>. Furthermore this module behaves differently according to the value of <em>DEBUG_MODE</em>: If <em>DEBUG_MODE = TRUE</em> the module searches along the chain of flip flops, the positions where we want to find the valid, by means of the function <em>Compute_ValidPositionSampledTapsTDL</em>. Then inside the vector <em>ValidPosition_SampledTaps</em>, that is generated by that function, it looks for the valid in the specific position <em>ValidPositionTap</em>. Instead if <em>DEBUG_MODE = FALSE</em> the valid is searched within all the <em>SampledTaps</em> in the position determined by <em>VALID_POSITION_TAP_INIT</em>. </li>
</ul>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="abc62460c31d43cd20f36fecc1d4a340b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abc62460c31d43cd20f36fecc1d4a340b">&#9670;&nbsp;</a></span>SamplingTDL()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"> <b><span class="vhdlchar"> </span></b> SamplingTDL</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><b><b><a class="el" href="class_sampler___t_d_l.html#a199d3fe4aaa6850d129b06faf6c246d9">reset</a></b> <span class="vhdlchar"> </span></b> <em></em> , </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><b><b><a class="el" href="class_sampler___t_d_l.html#a6231b307b7958b6060563aa2a93d345a">clk</a></b> <span class="vhdlchar"> </span></b> <em></em> , </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><b><b><a class="el" href="class_sampler___t_d_l_1_1_behavioral.html#ac56bd5983af7d46ca59b768d84d188ed">SampledTaps</a></b> <span class="vhdlchar"> </span></b> <em></em> , </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><b><b><a class="el" href="class_sampler___t_d_l_1_1_behavioral.html#a449d73a1c110581b82d5a26f13216ebc">SampledTaps_pipe</a></b> <span class="vhdlchar"> </span></b> <em></em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">Process</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This process manages the positioning of the sampling flip-flops, as described in the architecture description. </p><p>flowchart: <a href="SamplingTDL.svg">SamplingTDL</a><br />[SamplingTDL]</p> </p>

</div>
</div>
<a id="abc4ab9818dfce218d1d95dbb93fad190"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abc4ab9818dfce218d1d95dbb93fad190">&#9670;&nbsp;</a></span>ValidTDL()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"> <b><span class="vhdlchar"> </span></b> ValidTDL</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><b><b><a class="el" href="class_sampler___t_d_l.html#a199d3fe4aaa6850d129b06faf6c246d9">reset</a></b> <span class="vhdlchar"> </span></b> <em></em> , </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><b><b><a class="el" href="class_sampler___t_d_l.html#a6231b307b7958b6060563aa2a93d345a">clk</a></b> <span class="vhdlchar"> </span></b> <em></em> , </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><b><b><a class="el" href="class_sampler___t_d_l_1_1_behavioral.html#a1a04010924a3bdc8708f1813ddeb0cad">Valid_SampledTaps</a></b> <span class="vhdlchar"> </span></b> <em></em> , </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><b><b><a class="el" href="class_sampler___t_d_l_1_1_behavioral.html#a3884a719a8410e6afd81047a5989c7dd">Valid_SampledTaps_pipe</a></b> <span class="vhdlchar"> </span></b> <em></em> , </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><b><b><a class="el" href="class_sampler___t_d_l_1_1_behavioral.html#af69db7bf9de7b7d89cfb030d88530ecf">RiseValid</a></b> <span class="vhdlchar"> </span></b> <em></em> , </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><b><b><a class="el" href="class_sampler___t_d_l_1_1_behavioral.html#abaf35e1ea6d9372c3420a16e5f7dc313">FallValid</a></b> <span class="vhdlchar"> </span></b> <em></em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">Process</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This process manages the search of the Valid, as described in the architecture description. </p><p>flowchart: <a href="ValidTDL.svg">ValidTDL</a><br />[ValidTDL]</p> </p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="abaf35e1ea6d9372c3420a16e5f7dc313"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abaf35e1ea6d9372c3420a16e5f7dc313">&#9670;&nbsp;</a></span>FallValid</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_sampler___t_d_l_1_1_behavioral.html#abaf35e1ea6d9372c3420a16e5f7dc313">FallValid</a> <b><span class="keywordtype">STD_LOGIC</span><span class="vhdlchar"> </span><span class="vhdlchar"> </span><span class="vhdlchar">:</span><span class="vhdlchar">=</span><span class="vhdlchar"> </span><span class="vhdlchar"> </span><span class="vhdlchar">'</span><span class="vhdlchar"> </span> <span class="vhdldigit">0</span> <span class="vhdlchar"> </span><span class="vhdlchar">'</span><span class="vhdlchar"> </span></b> </td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">Signal</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Signal used to make the overall valid lasting just 1 clock cycle. </p>

</div>
</div>
<a id="af69db7bf9de7b7d89cfb030d88530ecf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af69db7bf9de7b7d89cfb030d88530ecf">&#9670;&nbsp;</a></span>RiseValid</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_sampler___t_d_l_1_1_behavioral.html#af69db7bf9de7b7d89cfb030d88530ecf">RiseValid</a> <b><span class="keywordtype">STD_LOGIC</span><span class="vhdlchar"> </span><span class="vhdlchar"> </span><span class="vhdlchar">:</span><span class="vhdlchar">=</span><span class="vhdlchar"> </span><span class="vhdlchar"> </span><span class="vhdlchar">'</span><span class="vhdlchar"> </span> <span class="vhdldigit">0</span> <span class="vhdlchar"> </span><span class="vhdlchar">'</span><span class="vhdlchar"> </span></b> </td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">Signal</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Signal containing the value of the bit from which we want to extract the valid. </p>

</div>
</div>
<a id="ac56bd5983af7d46ca59b768d84d188ed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac56bd5983af7d46ca59b768d84d188ed">&#9670;&nbsp;</a></span>SampledTaps</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_sampler___t_d_l_1_1_behavioral.html#ac56bd5983af7d46ca59b768d84d188ed">SampledTaps</a> <b><span class="keywordtype">STD_LOGIC_VECTOR</span><span class="vhdlchar"> </span><span class="vhdlchar">(</span><span class="vhdlchar"> </span><span class="vhdlchar"> </span><span class="vhdlchar"> </span><span class="vhdlchar"> </span><b><a class="el" href="class_sampler___t_d_l.html#a2ac9897da5b494d6b45e9debf671060f">BIT_SMP_TDL</a></b> <span class="vhdlchar">+</span><span class="vhdlchar"> </span><span class="vhdlchar"> </span><span class="vhdlchar"> </span><b><a class="el" href="class_sampler___t_d_l.html#ae6baabaaadca3096144cc6db701a5613">BIT_SMP_PRE_TDL</a></b> <span class="vhdlchar">-</span><span class="vhdlchar"> </span> <span class="vhdldigit">1</span> <span class="vhdlchar"> </span><span class="keywordflow">downto</span><span class="vhdlchar"> </span><span class="vhdlchar"> </span> <span class="vhdldigit">0</span> <span class="vhdlchar"> </span><span class="vhdlchar">)</span><span class="vhdlchar"> </span></b> </td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">Signal</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sampled taps along the chain. </p>

</div>
</div>
<a id="a449d73a1c110581b82d5a26f13216ebc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a449d73a1c110581b82d5a26f13216ebc">&#9670;&nbsp;</a></span>SampledTaps_pipe</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_sampler___t_d_l_1_1_behavioral.html#a449d73a1c110581b82d5a26f13216ebc">SampledTaps_pipe</a> <b><span class="keywordtype">STD_LOGIC_VECTOR</span><span class="vhdlchar"> </span><span class="vhdlchar">(</span><span class="vhdlchar"> </span><span class="vhdlchar"> </span><span class="vhdlchar"> </span><span class="vhdlchar"> </span><b><a class="el" href="class_sampler___t_d_l.html#a2ac9897da5b494d6b45e9debf671060f">BIT_SMP_TDL</a></b> <span class="vhdlchar">+</span><span class="vhdlchar"> </span><span class="vhdlchar"> </span><span class="vhdlchar"> </span><b><a class="el" href="class_sampler___t_d_l.html#ae6baabaaadca3096144cc6db701a5613">BIT_SMP_PRE_TDL</a></b> <span class="vhdlchar">-</span><span class="vhdlchar"> </span> <span class="vhdldigit">1</span> <span class="vhdlchar"> </span><span class="keywordflow">downto</span><span class="vhdlchar"> </span><span class="vhdlchar"> </span> <span class="vhdldigit">0</span> <span class="vhdlchar"> </span><span class="vhdlchar">)</span><span class="vhdlchar"> </span></b> </td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">Signal</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Buffering stage of SampledTaps. </p>

</div>
</div>
<a id="a1a04010924a3bdc8708f1813ddeb0cad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1a04010924a3bdc8708f1813ddeb0cad">&#9670;&nbsp;</a></span>Valid_SampledTaps</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_sampler___t_d_l_1_1_behavioral.html#a1a04010924a3bdc8708f1813ddeb0cad">Valid_SampledTaps</a> <b><span class="keywordtype">STD_LOGIC</span><span class="vhdlchar"> </span><span class="vhdlchar"> </span><span class="vhdlchar">:</span><span class="vhdlchar">=</span><span class="vhdlchar"> </span><span class="vhdlchar"> </span><span class="vhdlchar">'</span><span class="vhdlchar"> </span> <span class="vhdldigit">0</span> <span class="vhdlchar"> </span><span class="vhdlchar">'</span><span class="vhdlchar"> </span></b> </td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">Signal</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Overall valid. </p>

</div>
</div>
<a id="a3884a719a8410e6afd81047a5989c7dd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3884a719a8410e6afd81047a5989c7dd">&#9670;&nbsp;</a></span>Valid_SampledTaps_pipe</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_sampler___t_d_l_1_1_behavioral.html#a3884a719a8410e6afd81047a5989c7dd">Valid_SampledTaps_pipe</a> <b><span class="keywordtype">STD_LOGIC</span><span class="vhdlchar"> </span><span class="vhdlchar"> </span><span class="vhdlchar">:</span><span class="vhdlchar">=</span><span class="vhdlchar"> </span><span class="vhdlchar"> </span><span class="vhdlchar">'</span><span class="vhdlchar"> </span> <span class="vhdldigit">0</span> <span class="vhdlchar"> </span><span class="vhdlchar">'</span><span class="vhdlchar"> </span></b> </td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">Signal</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Buffering stage of the Valid. </p>

</div>
</div>
<a id="a38d21129e829ed03feeadbec73f0afa6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a38d21129e829ed03feeadbec73f0afa6">&#9670;&nbsp;</a></span>ValidPosition_SampledTaps</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_sampler___t_d_l_1_1_behavioral.html#a38d21129e829ed03feeadbec73f0afa6">ValidPosition_SampledTaps</a> <b><span class="keywordtype">STD_LOGIC_VECTOR</span><span class="vhdlchar"> </span><span class="vhdlchar">(</span><span class="vhdlchar"> </span><span class="vhdlchar">Compute_ValidPositionSampledTapsTDL</span><span class="vhdlchar"> </span><span class="vhdlchar">(</span><span class="vhdlchar"> </span><span class="vhdlchar"> </span><span class="vhdlchar"> </span><span class="vhdlchar"> </span><b><a class="el" href="class_sampler___t_d_l.html#a304e1ad74f990e652375a9a5560f4be9">MIN_VALID_TAP_POS</a></b> <span class="vhdlchar"> </span><span class="vhdlchar">,</span><span class="vhdlchar"> </span><span class="vhdlchar"> </span><span class="vhdlchar"> </span><span class="vhdlchar"> </span><b><a class="el" href="class_sampler___t_d_l.html#a210740d384506d9963d94fda43c110c7">STEP_VALID_TAP_POS</a></b> <span class="vhdlchar"> </span><span class="vhdlchar">,</span><span class="vhdlchar"> </span><span class="vhdlchar"> </span><span class="vhdlchar"> </span><span class="vhdlchar"> </span><b><a class="el" href="class_sampler___t_d_l.html#aaa9b9bd6ce1ec9b4e8b677bcda8cff0e">MAX_VALID_TAP_POS</a></b> <span class="vhdlchar"> </span><span class="vhdlchar">,</span><span class="vhdlchar"> </span><span class="vhdlchar"> </span><span class="vhdlchar"> </span><span class="vhdlchar"> </span><b><a class="el" href="class_sampler___t_d_l.html#ae6baabaaadca3096144cc6db701a5613">BIT_SMP_PRE_TDL</a></b> <span class="vhdlchar"> </span><span class="vhdlchar">,</span><span class="vhdlchar"> </span><span class="vhdlchar"> </span><span class="vhdlchar"> </span><span class="vhdlchar"> </span><b><a class="el" href="class_sampler___t_d_l_1_1_behavioral.html#ac56bd5983af7d46ca59b768d84d188ed">SampledTaps</a></b> <span class="vhdlchar"> </span><span class="vhdlchar">)</span><span class="vhdlchar"> </span><span class="vhdlchar">'</span><span class="vhdlchar"> </span><span class="keywordflow">RANGE</span><span class="vhdlchar"> </span><span class="vhdlchar"> </span><span class="vhdlchar">)</span><span class="vhdlchar"> </span></b> </td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">Signal</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This vector contains the positions where the valid can be found. </p>

</div>
</div>
<a id="a27d9aaad077d791c176f92282ad7408b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a27d9aaad077d791c176f92282ad7408b">&#9670;&nbsp;</a></span>ValidPositionTap_int</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_sampler___t_d_l_1_1_behavioral.html#a27d9aaad077d791c176f92282ad7408b">ValidPositionTap_int</a> <b><span class="keywordtype">INTEGER</span><span class="vhdlchar"> </span><span class="vhdlchar"> </span><span class="vhdlchar"> </span><span class="keywordflow">range</span><span class="vhdlchar"> </span><span class="vhdlchar"> </span> <span class="vhdldigit">0</span> <span class="vhdlchar"> </span><span class="keywordflow">TO</span><span class="vhdlchar"> </span><span class="vhdlchar"> </span><span class="vhdlchar"> </span><span class="vhdlchar"> </span><b><a class="el" href="class_sampler___t_d_l_1_1_behavioral.html#a38d21129e829ed03feeadbec73f0afa6">ValidPosition_SampledTaps</a></b> <span class="vhdlchar"> </span><span class="vhdlchar">'</span><span class="vhdlchar"> </span><span class="vhdlkeyword">HIGH</span><span class="vhdlchar"> </span><span class="vhdlchar">:</span><span class="vhdlchar">=</span><span class="vhdlchar"> </span><span class="vhdlchar"> </span><span class="vhdlchar"> </span><span class="vhdlchar"> </span><b><a class="el" href="class_sampler___t_d_l.html#aeed55dd30918007dc135630b055bbd3a">VALID_POSITION_TAP_INIT</a></b> <span class="vhdlchar"> </span></b> </td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">Signal</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initialization of the position from which we want to choose the valid. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/home/mconsonni/Utility_Ip_Core/ip-repo/AXI4-Stream_XUS_VirtualTDL/hdl/<a class="el" href="_sampler___t_d_l_8vhd.html">Sampler_TDL.vhd</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
